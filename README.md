# swoop

## Task

### Kinematic model

- 6 DoF fully controllable particle

### Simulation

- Lidar - single point scan
  - Error/noise model:
    - Reduced accuracy wrt to square distance
    - Angle of incidence variability - modelled with random region of differing AoI
    - Specularity return adjustment - model with generated regions of differing reflectivity
    - Beam dispersion - conical distance return
    - Smoke - distance to ground adjustment with random smoke intensity (reduces distance measured)

Real Time Embedded Software Case Study
Background
● Swoop Aero vehicle uses a single fixed beam lidar sensor to measure height above the ground,
during the hover / landing phase of flight
● The task is to develop an algorithm that effectively estimates the ground height below the aircraft
during landing, by rejecting outliers / noise from the lidar data
System Information
● Landing profile - for the purpose of this exercise, the landing profile can be fully represented by 3
phases
○ Transition - the vehicle linearly decelerates from a high transverse speed (forward flight),
while maintaining a constant altitude, to a static hover.
○ Hover descent - Vehicle linearly accelerates toward the ground, up to a limited maximum
descent speed.
○ When the vehicle's position is within a specified distance of the estimated ground height, a
linear deceleration phase - where target velocity is set as a function of height above ground
is triggered, to ensure a low touchdown impact g.
● Lidar Data
○ Lidar data generated by the vehicle's sensor system often contains intermittent errors in
the data, due to reflections from rain (single samples with a large offset), multipathing
from reflective surfaces (short periods of samples with a constant large offset from the true
distance), and flying over foliage or ground clutter (smaller scale noise, increases with
vehicle translation velocity)
○ The lidar has a minimum range that is a significant portion of the hover descent distance;
when the vehicle is below this distance above the ground, the data it generates can not be
trusted to be accurate.
Task Objectives
● Work through development of the code for this case study in a git repository, to demonstrate an
understanding of git for version control
● For each element of the task, generate an output that displays the result of the simulation
graphically
● The task involves simulating functionally that occurs in a vehicle in real time - make sure you’re not
utilising the simulation environment to look into the future for a particular algorithm
Embedded Software Case Study
Task Definition
Note: Tasks #2 and #3 are more important than #1; it is an enabler, so don’t get stuck there.
Write a C++ function that implements the following:
1. Simulation:
● Simulate the ekf world state estimate of the vehicle during landing by writing a function
that generates the x,y,z coordinates for the aircraft during landing for a given time - run this
simulation and plot these outputs for the full time span of the landing sequence
Note: this doesn’t have to be ekf generated - just simulate the output you might expect from
the landing profile described above. Helper code from online is fine for this step.
● Add a noise layer on top of the linear path defined above to simulate real world disturbance
forces
● Assuming initially that the vehicle is flying over a level, planar surface (that may not be
coincident with the coordinate system origin), add a function that simulates the output of
an idealised lidar.
● Add a layer to the simulation that incorporates the types of lidar data errors seen in real
world operations
2. Ground height estimation (now you’re set up, it’s time for the fun part):
● Utilising only the outputs of the above simulation functions as input, implement a function
that generates a smooth estimate of the ground height.
● Incorporate handling of the lidar minimum range, to give an accurate estimate of the
vehicle height above ground, all the way until touchdown.
3. Real world challenge:
● We have now added a building to the planar landscape, the vehicle must land on a landing
pad on the roof of the building
● The lidar algorithm must generate a good estimate of the surface height below the aircraft,
during transition /approach to the building, and once the vehicle is above the building -
accounting for the step change in real world range, and distinguishing this from the lidar
noise / errors.
● The vehicle must have an accurate estimate of the landing pad height before beginning the
hover descent phase - a short pause may be added to the landing profile to assist with this
requirement if necessary.
● Bonus points - in real world operations, there are disturbance forces that prevent the
vehicle from maintaining an exact roll/pitch/yaw attitude relative the the world x,y,z
coordinate frame - this means if the building is small, you will get intermittent returns from
ground next to the building as the vehicle moves around during descent - can you
accommodate for these?
Commercial in-confidence | 2
